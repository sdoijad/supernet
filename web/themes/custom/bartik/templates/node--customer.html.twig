{#
/**
 * @file
 * Bartik's theme implementation to display a node.
 *
 * Available variables:
 * - node: The node entity with limited access to object properties and methods.
 *   Only method names starting with "get", "has", or "is" and a few common
 *   methods such as "id", "label", and "bundle" are available. For example:
 *   - node.getCreatedTime() will return the node creation timestamp.
 *   - node.hasField('field_example') returns TRUE if the node bundle includes
 *     field_example. (This does not indicate the presence of a value in this
 *     field.)
 *   - node.isPublished() will return whether the node is published or not.
 *   Calling other methods, such as node.delete(), will result in an exception.
 *   See \Drupal\node\Entity\Node for a full list of public properties and
 *   methods for the node object.
 * - label: (optional) The title of the node.
 * - content: All node items. Use {{ content }} to print them all,
 *   or print a subset such as {{ content.field_example }}. Use
 *   {{ content|without('field_example') }} to temporarily suppress the printing
 *   of a given child element.
 * - author_picture: The node author user entity, rendered using the "compact"
 *   view mode.
 * - metadata: Metadata for this node.
 * - date: (optional) Themed creation date field.
 * - author_name: (optional) Themed author name field.
 * - url: Direct URL of the current node.
 * - display_submitted: Whether submission information should be displayed.
 * - attributes: HTML attributes for the containing element.
 *   The attributes.class element may contain one or more of the following
 *   classes:
 *   - node: The current template type (also known as a "theming hook").
 *   - node--type-[type]: The current node type. For example, if the node is an
 *     "Article" it would result in "node--type-article". Note that the machine
 *     name will often be in a short form of the human readable label.
 *   - node--view-mode-[view_mode]: The View Mode of the node; for example, a
 *     teaser would result in: "node--view-mode-teaser", and
 *     full: "node--view-mode-full".
 *   The following are controlled through the node publishing options.
 *   - node--promoted: Appears on nodes promoted to the front page.
 *   - node--sticky: Appears on nodes ordered above other non-sticky nodes in
 *     teaser listings.
 *   - node--unpublished: Appears on unpublished nodes visible only to site
 *     admins.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - content_attributes: Same as attributes, except applied to the main
 *   content tag that appears in the template.
 * - author_attributes: Same as attributes, except applied to the author of
 *   the node tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 * - view_mode: View mode; for example, "teaser" or "full".
 * - teaser: Flag for the teaser state. Will be true if view_mode is 'teaser'.
 * - page: Flag for the full page state. Will be true if view_mode is 'full'.
 * - readmore: Flag for more state. Will be true if the teaser content of the
 *   node cannot hold the main body content.
 * - logged_in: Flag for authenticated user status. Will be true when the
 *   current user is a logged-in member.
 * - is_admin: Flag for admin user status. Will be true when the current user
 *   is an administrator.
 *
 * @see template_preprocess_node()
 */
#}

{% set current_date  =  'now'|date('d, F Y')  %}
{% set joining_date  =  node.field_internet_start_date.value %}
{% set joining_day   =  joining_date|date_modify("+1 month")|date("d") %}
{% set current_month =  'now'|date('m') %}
{% set next_month    =  'now'|date_modify("+1 month")|date("m") %}
{% set current_year  =  'now'|date('Y') %}
{% set from_date     =  joining_day ~ '/' ~ current_month ~ '/' ~ current_year %}
{% set to_date       =  joining_day ~ '/' ~ next_month ~ '/' ~ current_year %}


<!-- set the Plan Type as Limited or Un-Limited -->
{% set plan_type =  node.field_choose_data_plan.entity.field_data_limited_unlimited.value %}
{% if (plan_type == 2) %}
    {% set plan_type_label = 'Un-Limited' %}
{% else %}
    {% set plan_type_label = 'Limited' %}
{% endif %}


<!-- http://demo.harnishdesign.net/html/koice/index.html -->
<!-- Container -->
<div class="container-fluid invoice-container sachin-node">
    <!-- Header -->
    <header>
        <div class="row align-items-center">
            <div class="col-sm-6 text-sm-left mb-3 mb-sm-0">
                <img id="logo" src="/sites/default/files/logo.jpeg" title="SuperNet" alt="SuperNet" />
            </div>
            <div class="col-sm-5 text-sm-right">
                <h4 class="text-7 mb-0">Invoice</h4>
            </div>
        </div>
        <hr>
    </header>
    <!-- Main Content -->
    <main>
        <div class="row">
            <div class="col-sm-5"><strong>Date:</strong> {{ current_date }} </div>

        </div>
        <hr>
        <div class="row">
            <div class="col-sm-5 text-sm-left order-sm-0"> <strong>Invoiced To:</strong>
                <address>
                    Mr/Mrs. {{ node.label }} <br/>
                    {{ node.field_address.value }}
                </address>
            </div>
            <div class="col-sm-6 text-sm-right order-sm-1"> <strong>Pay To:</strong>
                <address>
                    1st Floor, Shop No-28. Vitthal Arpan Society<br />
                    Akoli Road, Sai Nagar. Amravati-444607<br />
                    Email - unc.solution@gmail.com<br />
                    Mobile - 8855001033 / 9405585875
                </address>
            </div>
        </div>
        <div class="card">
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table mb-0">
                        <thead class="card-header">
                        <tr>
                            <td class="col-3 border-0"><strong>Plan Description</strong></td>
                            <td class="col-4 border-0"><strong>Billing Period </strong></td>
                            <td class="col-2 text-center border-0"><strong>Mode of Payment</strong></td>
                            <td class="col-1 text-center border-0"><strong>Amount</strong></td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="col-3 border-0">{{ node.field_choose_data_plan.entity.field_plan_data.value }} Mbps, {{ plan_type_label }}</td>
                            <td class="col-4 border-0">
                                {{ from_date }} - {{ to_date }}
                            </td>
                            <td class="col-2 text-center border-0">{{ payment_mode }} </td>
                            <td class="col-1 text-center border-0"> <img class="currency" src="/sites/default/files/rupees.png" /> {{ node.field_choose_data_plan.entity.field_plan_price.value|number_format(2) }} </td>
                        </tr>
                        </tbody>
                        <tfoot class="card-footer">
                        <tr>
                            <td colspan="3" class="text-right"><strong>Sub Total:</strong></td>
                            <td class="text-center"> <img class="currency" src="/sites/default/files/rupees.png" /> {{ node.field_choose_data_plan.entity.field_plan_price.value|number_format(2) }} </td>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </main>
    <!-- Footer -->
    <footer class="text-center mt-4">
        <p class="text-1"><strong>NOTE :</strong> This is computer generated receipt and does not require physical signature.</p>
    </footer>
</div>